server {
    listen       3000;
    server_name  _;

    root   /usr/share/nginx/html;
    index  index.html;

    # Handle language-based routes (e.g., /zh, /ja, /ko, etc.)
    location ~ ^/(zh|ja|ko|fr|de|es|ru|it|tr|pl|uk|vi|th|id|ms|ar)(/.*)?$ {
        try_files $uri /index.html;
    }

    location / {
        try_files $uri $uri/ /index.html;
    }

    # Cache static assets with shorter expiration
    location ~* \.(?:css|js|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1d;
        add_header Cache-Control "public, max-age=86400";
        try_files $uri /index.html;
    }

    # Handle XML files (sitemap, robots.txt, etc.)
    location ~* \.(xml|txt)$ {
        expires 1d;
        add_header Cache-Control "public, max-age=86400";
        try_files $uri =404;
    }

    # Cache HTML files with shorter expiration
    location ~* \.html$ {
        expires 1h;
        add_header Cache-Control "public, max-age=3600";
        try_files $uri /index.html;
    }
}


